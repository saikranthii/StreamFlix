{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajkamal\\\\Desktop\\\\movie_recommender\\\\frontend\\\\src\\\\pages\\\\SpeedTest.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport './SpeedTest.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SpeedTest() {\n  _s();\n  const [downloadSpeed, setDownloadSpeed] = useState(null);\n  const [uploadSpeed, setUploadSpeed] = useState(null);\n  const [latency, setLatency] = useState(null);\n  const [testing, setTesting] = useState(false);\n  const [error, setError] = useState('');\n  const [history, setHistory] = useState(() => {\n    const saved = localStorage.getItem('speedTestHistory');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [chartData, setChartData] = useState({\n    download: [],\n    upload: []\n  });\n\n  // Update local storage when history changes\n  useEffect(() => {\n    localStorage.setItem('speedTestHistory', JSON.stringify(history));\n  }, [history]);\n\n  // Initialize chart\n  useEffect(() => {\n    var _document$getElementB;\n    const ctx = (_document$getElementB = document.getElementById('speedChart')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.getContext('2d');\n    if (ctx) {\n      const chart = new Chart(ctx, {\n        type: 'line',\n        data: {\n          labels: chartData.download.map((_, i) => `Sample ${i + 1}`),\n          datasets: [{\n            label: 'Download Speed (Mbps)',\n            data: chartData.download,\n            borderColor: '#ff0000',\n            backgroundColor: 'rgba(255, 0, 0, 0.2)',\n            fill: true\n          }, {\n            label: 'Upload Speed (Mbps)',\n            data: chartData.upload,\n            borderColor: '#ffffff',\n            backgroundColor: 'rgba(255, 255, 255, 0.2)',\n            fill: true\n          }]\n        },\n        options: {\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Speed (Mbps)'\n              }\n            },\n            x: {\n              title: {\n                display: true,\n                text: 'Sample'\n              }\n            }\n          }\n        }\n      });\n      return () => chart.destroy();\n    }\n  }, [chartData]);\n  const runSpeedTest = async () => {\n    setTesting(true);\n    setDownloadSpeed(null);\n    setUploadSpeed(null);\n    setLatency(null);\n    setError('');\n    setChartData({\n      download: [],\n      upload: []\n    });\n    let pingMs = null;\n    let avgDownloadSpeed = null;\n    let avgUploadSpeed = null;\n    try {\n      // Latency test\n      try {\n        const pingStart = performance.now();\n        const pingResponse = await axios.get('http://localhost:5001/', {\n          timeout: 10000\n        });\n        const pingEnd = performance.now();\n        pingMs = (pingEnd - pingStart).toFixed(2);\n        setLatency(pingMs);\n        console.log('Latency:', pingMs, 'ms', 'Status:', pingResponse.status);\n      } catch (err) {\n        console.error('Latency test failed (port 5001):', err.message);\n        // Fallback to port 3000\n        try {\n          const pingStart = performance.now();\n          const pingResponse = await axios.get('http://localhost:3000/', {\n            timeout: 10000\n          });\n          const pingEnd = performance.now();\n          pingMs = (pingEnd - pingStart).toFixed(2);\n          setLatency(pingMs);\n          console.log('Latency (fallback 3000):', pingMs, 'ms', 'Status:', pingResponse.status);\n        } catch (fallbackErr) {\n          console.error('Latency fallback failed (port 3000):', fallbackErr.message);\n          setError(prev => prev + ' Latency test failed. ');\n        }\n      }\n\n      // Download test\n      try {\n        const downloadSamples = 3;\n        const downloadSpeeds = [];\n        for (let i = 0; i < downloadSamples; i++) {\n          const startTime = performance.now();\n          const response = await axios.get('http://localhost:3000/files/100MB.bin', {\n            responseType: 'blob',\n            timeout: 30000 // 30s for large file\n          });\n          const endTime = performance.now();\n          const duration = (endTime - startTime) / 1000; // seconds\n          const fileSize = response.data.size / 1024 / 1024; // MB\n          const speedMbps = (fileSize * 8 / duration).toFixed(2); // Mbps\n          downloadSpeeds.push(parseFloat(speedMbps));\n          setChartData(prev => ({\n            download: [...prev.download, parseFloat(speedMbps)],\n            upload: prev.upload\n          }));\n          console.log(`Download sample ${i + 1}: ${speedMbps} Mbps`, 'Status:', response.status);\n        }\n        avgDownloadSpeed = (downloadSpeeds.reduce((a, b) => a + b, 0) / downloadSpeeds.length).toFixed(2);\n        setDownloadSpeed(avgDownloadSpeed);\n        console.log('Average Download Speed:', avgDownloadSpeed, 'Mbps');\n      } catch (err) {\n        console.error('Download test failed:', err.message);\n        setError(prev => prev + ' Download test failed. ');\n      }\n\n      // Upload test\n      try {\n        const uploadSamples = 3;\n        const uploadSpeeds = [];\n        const fileSizeMB = 5; // Reduced to 5MB\n        const fileData = new Blob([new ArrayBuffer(fileSizeMB * 1024 * 1024)], {\n          type: 'application/octet-stream'\n        });\n        for (let i = 0; i < uploadSamples; i++) {\n          const startTime = performance.now();\n          const response = await axios.post('http://localhost:5001/upload', fileData, {\n            headers: {\n              'Content-Type': 'application/octet-stream'\n            },\n            timeout: 30000 // 30s timeout\n          });\n          const endTime = performance.now();\n          const duration = (endTime - startTime) / 1000; // seconds\n          const speedMbps = (fileSizeMB * 8 / duration).toFixed(2); // Mbps\n          uploadSpeeds.push(parseFloat(speedMbps));\n          setChartData(prev => ({\n            download: prev.download,\n            upload: [...prev.upload, parseFloat(speedMbps)]\n          }));\n          console.log(`Upload sample ${i + 1}: ${speedMbps} Mbps`, 'Status:', response.status);\n        }\n        avgUploadSpeed = (uploadSpeeds.reduce((a, b) => a + b, 0) / uploadSpeeds.length).toFixed(2);\n        setUploadSpeed(avgUploadSpeed);\n        console.log('Average Upload Speed:', avgUploadSpeed, 'Mbps');\n      } catch (err) {\n        console.error('Upload test failed:', err.message);\n        setError(prev => prev + ' Upload test failed. ');\n      }\n\n      // Update history even if some tests fail\n      if (pingMs || avgDownloadSpeed || avgUploadSpeed) {\n        const result = {\n          downloadSpeed: avgDownloadSpeed || '-',\n          uploadSpeed: avgUploadSpeed || '-',\n          latency: pingMs || '-',\n          timestamp: new Date().toLocaleString()\n        };\n        console.log('History entry:', result);\n        setHistory(prev => [result, ...prev].slice(0, 5)); // Keep last 5 results\n      } else {\n        setError(prev => prev || 'All speed tests failed.');\n      }\n    } catch (err) {\n      console.error('Unexpected error:', err.message);\n      setError('Failed to run speed test: ' + err.message);\n    }\n    setTesting(false);\n  };\n\n  // Calculate needle rotation and gauge offsets (0-100 Mbps maps to 0-360 deg)\n  const downloadGaugeOffset = downloadSpeed ? (1 - parseFloat(downloadSpeed) / 100) * 439.8 : 439.8;\n  const uploadGaugeOffset = uploadSpeed ? (1 - parseFloat(uploadSpeed) / 100) * 439.8 : 439.8;\n  const needleAngle = testing ? 0 : uploadSpeed ? parseFloat(uploadSpeed) / 100 * 360 : downloadSpeed ? parseFloat(downloadSpeed) / 100 * 360 : 0;\n\n  // Generate tick marks and labels\n  const ticks = [];\n  for (let i = 0; i <= 100; i += 5) {\n    const isMajor = i % 20 === 0;\n    const angle = i / 100 * 360;\n    const rad = angle * Math.PI / 180;\n    const innerRadius = isMajor ? 55 : 60;\n    const outerRadius = isMajor ? 45 : 50;\n    const x1 = 100 + innerRadius * Math.cos(rad);\n    const y1 = 100 + innerRadius * Math.sin(rad);\n    const x2 = 100 + outerRadius * Math.cos(rad);\n    const y2 = 100 + outerRadius * Math.sin(rad);\n    ticks.push(/*#__PURE__*/_jsxDEV(\"line\", {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      stroke: \"#ffffff\",\n      strokeWidth: isMajor ? 2 : 1\n    }, `tick-${i}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this));\n    if (isMajor) {\n      const labelX = 100 + 35 * Math.cos(rad);\n      const labelY = 100 + 35 * Math.sin(rad);\n      ticks.push(/*#__PURE__*/_jsxDEV(\"text\", {\n        x: labelX,\n        y: labelY,\n        fill: \"#ffffff\",\n        fontSize: \"10\",\n        textAnchor: \"middle\",\n        dominantBaseline: \"middle\",\n        children: i\n      }, `label-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"speed-test\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Speed Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Test your internet speed for optimal StreamFlix streaming.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"speedometer\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          viewBox: \"0 0 200 200\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"100\",\n            cy: \"100\",\n            r: \"70\",\n            fill: \"none\",\n            stroke: \"#1a1a1a\",\n            strokeWidth: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            className: testing || downloadSpeed ? 'gauge download-gauge' : '',\n            cx: \"100\",\n            cy: \"100\",\n            r: \"70\",\n            fill: \"none\",\n            stroke: \"#ff0000\",\n            strokeWidth: \"5\",\n            strokeDasharray: \"439.8\",\n            strokeDashoffset: testing ? '0' : downloadGaugeOffset\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            className: testing || uploadSpeed ? 'gauge upload-gauge' : '',\n            cx: \"100\",\n            cy: \"100\",\n            r: \"65\",\n            fill: \"none\",\n            stroke: \"#ffffff\",\n            strokeWidth: \"5\",\n            strokeDasharray: \"408.4\",\n            strokeDashoffset: testing ? '0' : uploadGaugeOffset\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), ticks, /*#__PURE__*/_jsxDEV(\"line\", {\n            className: testing || downloadSpeed || uploadSpeed ? 'needle' : '',\n            x1: \"100\",\n            y1: \"100\",\n            x2: \"100\",\n            y2: \"30\",\n            stroke: \"#ffffff\",\n            strokeWidth: \"4\",\n            style: {\n              transform: `rotate(${needleAngle}deg)`,\n              transformOrigin: '100px 100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"speed-display\",\n          children: testing ? 'Testing...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [downloadSpeed && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Download: \", downloadSpeed, \" Mbps\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 35\n            }, this), uploadSpeed && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" | Upload: \", uploadSpeed, \" Mbps\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics\",\n        children: [latency && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Latency: \", latency, \" ms\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 23\n        }, this), downloadSpeed && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Download Speed: \", downloadSpeed, \" Mbps\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 29\n        }, this), uploadSpeed && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Upload Speed: \", uploadSpeed, \" Mbps\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: runSpeedTest,\n        disabled: testing,\n        children: testing ? 'Testing...' : 'Run Speed Test'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Speed Test Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          id: \"speedChart\",\n          width: \"400\",\n          height: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), history.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Test History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Download (Mbps)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Upload (Mbps)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Latency (ms)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: history.map((entry, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.downloadSpeed || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.uploadSpeed || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.latency || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(SpeedTest, \"SoVuQ/56bNRLWIWhPTLzsooYHfE=\");\n_c = SpeedTest;\nexport default SpeedTest;\nvar _c;\n$RefreshReg$(_c, \"SpeedTest\");","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","Header","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","SpeedTest","_s","downloadSpeed","setDownloadSpeed","uploadSpeed","setUploadSpeed","latency","setLatency","testing","setTesting","error","setError","history","setHistory","saved","localStorage","getItem","JSON","parse","chartData","setChartData","download","upload","setItem","stringify","_document$getElementB","ctx","document","getElementById","getContext","chart","type","data","labels","map","_","i","datasets","label","borderColor","backgroundColor","fill","options","scales","y","beginAtZero","title","display","text","x","destroy","runSpeedTest","pingMs","avgDownloadSpeed","avgUploadSpeed","pingStart","performance","now","pingResponse","get","timeout","pingEnd","toFixed","console","log","status","err","message","fallbackErr","prev","downloadSamples","downloadSpeeds","startTime","response","responseType","endTime","duration","fileSize","size","speedMbps","push","parseFloat","reduce","a","b","length","uploadSamples","uploadSpeeds","fileSizeMB","fileData","Blob","ArrayBuffer","post","headers","result","timestamp","Date","toLocaleString","slice","downloadGaugeOffset","uploadGaugeOffset","needleAngle","ticks","isMajor","angle","rad","Math","PI","innerRadius","outerRadius","x1","cos","y1","sin","x2","y2","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","labelX","labelY","fontSize","textAnchor","dominantBaseline","children","className","viewBox","cx","cy","r","strokeDasharray","strokeDashoffset","style","transform","transformOrigin","onClick","disabled","id","width","height","entry","index","_c","$RefreshReg$"],"sources":["C:/Users/Rajkamal/Desktop/movie_recommender/frontend/src/pages/SpeedTest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Chart from 'chart.js/auto';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport './SpeedTest.css';\r\n\r\nfunction SpeedTest() {\r\n  const [downloadSpeed, setDownloadSpeed] = useState(null);\r\n  const [uploadSpeed, setUploadSpeed] = useState(null);\r\n  const [latency, setLatency] = useState(null);\r\n  const [testing, setTesting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [history, setHistory] = useState(() => {\r\n    const saved = localStorage.getItem('speedTestHistory');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n  const [chartData, setChartData] = useState({ download: [], upload: [] });\r\n\r\n  // Update local storage when history changes\r\n  useEffect(() => {\r\n    localStorage.setItem('speedTestHistory', JSON.stringify(history));\r\n  }, [history]);\r\n\r\n  // Initialize chart\r\n  useEffect(() => {\r\n    const ctx = document.getElementById('speedChart')?.getContext('2d');\r\n    if (ctx) {\r\n      const chart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n          labels: chartData.download.map((_, i) => `Sample ${i + 1}`),\r\n          datasets: [\r\n            {\r\n              label: 'Download Speed (Mbps)',\r\n              data: chartData.download,\r\n              borderColor: '#ff0000',\r\n              backgroundColor: 'rgba(255, 0, 0, 0.2)',\r\n              fill: true,\r\n            },\r\n            {\r\n              label: 'Upload Speed (Mbps)',\r\n              data: chartData.upload,\r\n              borderColor: '#ffffff',\r\n              backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n              fill: true,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          scales: {\r\n            y: { beginAtZero: true, title: { display: true, text: 'Speed (Mbps)' } },\r\n            x: { title: { display: true, text: 'Sample' } },\r\n          },\r\n        },\r\n      });\r\n      return () => chart.destroy();\r\n    }\r\n  }, [chartData]);\r\n\r\n  const runSpeedTest = async () => {\r\n    setTesting(true);\r\n    setDownloadSpeed(null);\r\n    setUploadSpeed(null);\r\n    setLatency(null);\r\n    setError('');\r\n    setChartData({ download: [], upload: [] });\r\n\r\n    let pingMs = null;\r\n    let avgDownloadSpeed = null;\r\n    let avgUploadSpeed = null;\r\n\r\n    try {\r\n      // Latency test\r\n      try {\r\n        const pingStart = performance.now();\r\n        const pingResponse = await axios.get('http://localhost:5001/', { timeout: 10000 });\r\n        const pingEnd = performance.now();\r\n        pingMs = (pingEnd - pingStart).toFixed(2);\r\n        setLatency(pingMs);\r\n        console.log('Latency:', pingMs, 'ms', 'Status:', pingResponse.status);\r\n      } catch (err) {\r\n        console.error('Latency test failed (port 5001):', err.message);\r\n        // Fallback to port 3000\r\n        try {\r\n          const pingStart = performance.now();\r\n          const pingResponse = await axios.get('http://localhost:3000/', { timeout: 10000 });\r\n          const pingEnd = performance.now();\r\n          pingMs = (pingEnd - pingStart).toFixed(2);\r\n          setLatency(pingMs);\r\n          console.log('Latency (fallback 3000):', pingMs, 'ms', 'Status:', pingResponse.status);\r\n        } catch (fallbackErr) {\r\n          console.error('Latency fallback failed (port 3000):', fallbackErr.message);\r\n          setError((prev) => prev + ' Latency test failed. ');\r\n        }\r\n      }\r\n\r\n      // Download test\r\n      try {\r\n        const downloadSamples = 3;\r\n        const downloadSpeeds = [];\r\n        for (let i = 0; i < downloadSamples; i++) {\r\n          const startTime = performance.now();\r\n          const response = await axios.get('http://localhost:3000/files/100MB.bin', {\r\n            responseType: 'blob',\r\n            timeout: 30000, // 30s for large file\r\n          });\r\n          const endTime = performance.now();\r\n          const duration = (endTime - startTime) / 1000; // seconds\r\n          const fileSize = response.data.size / 1024 / 1024; // MB\r\n          const speedMbps = (fileSize * 8 / duration).toFixed(2); // Mbps\r\n          downloadSpeeds.push(parseFloat(speedMbps));\r\n          setChartData((prev) => ({\r\n            download: [...prev.download, parseFloat(speedMbps)],\r\n            upload: prev.upload,\r\n          }));\r\n          console.log(`Download sample ${i + 1}: ${speedMbps} Mbps`, 'Status:', response.status);\r\n        }\r\n        avgDownloadSpeed = (downloadSpeeds.reduce((a, b) => a + b, 0) / downloadSpeeds.length).toFixed(2);\r\n        setDownloadSpeed(avgDownloadSpeed);\r\n        console.log('Average Download Speed:', avgDownloadSpeed, 'Mbps');\r\n      } catch (err) {\r\n        console.error('Download test failed:', err.message);\r\n        setError((prev) => prev + ' Download test failed. ');\r\n      }\r\n\r\n      // Upload test\r\n      try {\r\n        const uploadSamples = 3;\r\n        const uploadSpeeds = [];\r\n        const fileSizeMB = 5; // Reduced to 5MB\r\n        const fileData = new Blob([new ArrayBuffer(fileSizeMB * 1024 * 1024)], { type: 'application/octet-stream' });\r\n        for (let i = 0; i < uploadSamples; i++) {\r\n          const startTime = performance.now();\r\n          const response = await axios.post('http://localhost:5001/upload', fileData, {\r\n            headers: { 'Content-Type': 'application/octet-stream' },\r\n            timeout: 30000, // 30s timeout\r\n          });\r\n          const endTime = performance.now();\r\n          const duration = (endTime - startTime) / 1000; // seconds\r\n          const speedMbps = (fileSizeMB * 8 / duration).toFixed(2); // Mbps\r\n          uploadSpeeds.push(parseFloat(speedMbps));\r\n          setChartData((prev) => ({\r\n            download: prev.download,\r\n            upload: [...prev.upload, parseFloat(speedMbps)],\r\n          }));\r\n          console.log(`Upload sample ${i + 1}: ${speedMbps} Mbps`, 'Status:', response.status);\r\n        }\r\n        avgUploadSpeed = (uploadSpeeds.reduce((a, b) => a + b, 0) / uploadSpeeds.length).toFixed(2);\r\n        setUploadSpeed(avgUploadSpeed);\r\n        console.log('Average Upload Speed:', avgUploadSpeed, 'Mbps');\r\n      } catch (err) {\r\n        console.error('Upload test failed:', err.message);\r\n        setError((prev) => prev + ' Upload test failed. ');\r\n      }\r\n\r\n      // Update history even if some tests fail\r\n      if (pingMs || avgDownloadSpeed || avgUploadSpeed) {\r\n        const result = {\r\n          downloadSpeed: avgDownloadSpeed || '-',\r\n          uploadSpeed: avgUploadSpeed || '-',\r\n          latency: pingMs || '-',\r\n          timestamp: new Date().toLocaleString(),\r\n        };\r\n        console.log('History entry:', result);\r\n        setHistory((prev) => [result, ...prev].slice(0, 5)); // Keep last 5 results\r\n      } else {\r\n        setError((prev) => prev || 'All speed tests failed.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err.message);\r\n      setError('Failed to run speed test: ' + err.message);\r\n    }\r\n    setTesting(false);\r\n  };\r\n\r\n  // Calculate needle rotation and gauge offsets (0-100 Mbps maps to 0-360 deg)\r\n  const downloadGaugeOffset = downloadSpeed ? (1 - parseFloat(downloadSpeed) / 100) * 439.8 : 439.8;\r\n  const uploadGaugeOffset = uploadSpeed ? (1 - parseFloat(uploadSpeed) / 100) * 439.8 : 439.8;\r\n  const needleAngle = testing\r\n    ? 0\r\n    : uploadSpeed\r\n      ? (parseFloat(uploadSpeed) / 100) * 360\r\n      : downloadSpeed\r\n        ? (parseFloat(downloadSpeed) / 100) * 360\r\n        : 0;\r\n\r\n  // Generate tick marks and labels\r\n  const ticks = [];\r\n  for (let i = 0; i <= 100; i += 5) {\r\n    const isMajor = i % 20 === 0;\r\n    const angle = (i / 100) * 360;\r\n    const rad = (angle * Math.PI) / 180;\r\n    const innerRadius = isMajor ? 55 : 60;\r\n    const outerRadius = isMajor ? 45 : 50;\r\n    const x1 = 100 + innerRadius * Math.cos(rad);\r\n    const y1 = 100 + innerRadius * Math.sin(rad);\r\n    const x2 = 100 + outerRadius * Math.cos(rad);\r\n    const y2 = 100 + outerRadius * Math.sin(rad);\r\n    ticks.push(\r\n      <line\r\n        key={`tick-${i}`}\r\n        x1={x1}\r\n        y1={y1}\r\n        x2={x2}\r\n        y2={y2}\r\n        stroke=\"#ffffff\"\r\n        strokeWidth={isMajor ? 2 : 1}\r\n      />\r\n    );\r\n    if (isMajor) {\r\n      const labelX = 100 + 35 * Math.cos(rad);\r\n      const labelY = 100 + 35 * Math.sin(rad);\r\n      ticks.push(\r\n        <text\r\n          key={`label-${i}`}\r\n          x={labelX}\r\n          y={labelY}\r\n          fill=\"#ffffff\"\r\n          fontSize=\"10\"\r\n          textAnchor=\"middle\"\r\n          dominantBaseline=\"middle\"\r\n        >\r\n          {i}\r\n        </text>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"speed-test\">\r\n      <Header />\r\n      <main>\r\n        <h1>Speed Test</h1>\r\n        <p>Test your internet speed for optimal StreamFlix streaming.</p>\r\n        <div className=\"speedometer\">\r\n          <svg viewBox=\"0 0 200 200\">\r\n            <circle\r\n              cx=\"100\"\r\n              cy=\"100\"\r\n              r=\"70\"\r\n              fill=\"none\"\r\n              stroke=\"#1a1a1a\"\r\n              strokeWidth=\"10\"\r\n            />\r\n            <circle\r\n              className={testing || downloadSpeed ? 'gauge download-gauge' : ''}\r\n              cx=\"100\"\r\n              cy=\"100\"\r\n              r=\"70\"\r\n              fill=\"none\"\r\n              stroke=\"#ff0000\"\r\n              strokeWidth=\"5\"\r\n              strokeDasharray=\"439.8\"\r\n              strokeDashoffset={testing ? '0' : downloadGaugeOffset}\r\n            />\r\n            <circle\r\n              className={testing || uploadSpeed ? 'gauge upload-gauge' : ''}\r\n              cx=\"100\"\r\n              cy=\"100\"\r\n              r=\"65\"\r\n              fill=\"none\"\r\n              stroke=\"#ffffff\"\r\n              strokeWidth=\"5\"\r\n              strokeDasharray=\"408.4\"\r\n              strokeDashoffset={testing ? '0' : uploadGaugeOffset}\r\n            />\r\n            {ticks}\r\n            <line\r\n              className={testing || downloadSpeed || uploadSpeed ? 'needle' : ''}\r\n              x1=\"100\"\r\n              y1=\"100\"\r\n              x2=\"100\"\r\n              y2=\"30\"\r\n              stroke=\"#ffffff\"\r\n              strokeWidth=\"4\"\r\n              style={{ transform: `rotate(${needleAngle}deg)`, transformOrigin: '100px 100px' }}\r\n            />\r\n          </svg>\r\n          <div className=\"speed-display\">\r\n            {testing ? 'Testing...' : (\r\n              <>\r\n                {downloadSpeed && <span>Download: {downloadSpeed} Mbps</span>}\r\n                {uploadSpeed && <span> | Upload: {uploadSpeed} Mbps</span>}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"metrics\">\r\n          {latency && <p>Latency: {latency} ms</p>}\r\n          {downloadSpeed && <p>Download Speed: {downloadSpeed} Mbps</p>}\r\n          {uploadSpeed && <p>Upload Speed: {uploadSpeed} Mbps</p>}\r\n        </div>\r\n        <button onClick={runSpeedTest} disabled={testing}>\r\n          {testing ? 'Testing...' : 'Run Speed Test'}\r\n        </button>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        <div className=\"chart-container\">\r\n          <h3>Speed Test Results</h3>\r\n          <canvas id=\"speedChart\" width=\"400\" height=\"200\"></canvas>\r\n        </div>\r\n        {history.length > 0 && (\r\n          <div className=\"history\">\r\n            <h3>Test History</h3>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Download (Mbps)</th>\r\n                  <th>Upload (Mbps)</th>\r\n                  <th>Latency (ms)</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {history.map((entry, index) => (\r\n                  <tr key={index}>\r\n                    <td>{entry.timestamp}</td>\r\n                    <td>{entry.downloadSpeed || '-'}</td>\r\n                    <td>{entry.uploadSpeed || '-'}</td>\r\n                    <td>{entry.latency || '-'}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SpeedTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}